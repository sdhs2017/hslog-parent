webpackJsonp([77],{T7jb:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("qTy0"),n=e("/sA3"),o=(e("8+FI"),{name:"dashboardList",data:function(){var t=this;return{loading:!1,tableHead:[{prop:"title",label:"标题",width:""},{prop:"description",label:"描述",width:""},{prop:"tools",label:"操作",width:"100",btns:[{icon:"el-icon-view",text:"查看",clickFun:function(t,a){Object(n.l)("seeDashboard"+t.id,"dashboard/dashboard.vue",{name:t.title,id:t.id,type:"see"}," 查看")}},{icon:"el-icon-edit",text:"编辑",formatData:function(t){return t.editable},clickFun:function(t,a){Object(n.l)("resiveDashboard"+t.id,"dashboard/dashboard.vue",{name:t.title,id:t.id,type:"edit"}," 编辑")}},{icon:"el-icon-error",text:"删除",formatData:function(t){return t.deletable},clickFun:function(a,e){t.removeChart(a,e)}}]},{prop:"",label:"状态",width:"60",formatData:function(t,a){if(!a.deletable&&!a.editable)return'<i class="el-icon-lock" style="color:#e4956d"></i>'}}],tableData:[]}},created:function(){this.getDashboardsList()},methods:{goToHtml:function(){this.$router.push({path:"dashboard"})},getDashboardsList:function(){var t=this;this.$nextTick(function(){t.loading=!0,t.$axios.post(t.$baseUrl+"/BI/getDashboards.do","").then(function(a){t.loading=!1;var e=a.data;"true"==e.success?t.tableData=e.data:layer.msg(a.data.message,{icon:5})}).catch(function(a){t.loading=!1,layer.msg("获取数据失败",{icon:5})})})},reviseChart:function(t,a){switch(t.type){case"bar":Object(n.l)("barChart"+t.id,"dashboard/barChart.vue",{name:t.title,id:t.id}," 修改");break;case"pie":Object(n.l)("pieChart"+t.id,"dashboard/pieChart.vue",{name:t.title,id:t.id}," 修改");break;case"line":Object(n.l)("lineChart"+t.id,"dashboard/lineChart.vue",{name:t.title,id:t.id}," 修改")}},removeChart:function(t,a){var e=this;layer.confirm("您确定删除么？",{btn:["确定","取消"]},function(a){e.loading=!0,e.$nextTick(function(){e.$axios.post(e.$baseUrl+"/BI/deleteDashboardById.do",e.$qs.stringify({id:t.id})).then(function(t){e.loading=!1,"true"==t.data.success?(layer.msg(t.data.message,{icon:1}),setTimeout(function(){e.getDashboardsList()},1e3)):layer.msg(t.data.message,{icon:5})}).catch(function(t){e.loading=!1})})})}},components:{vBasetable:i.default}}),s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content-bg",attrs:{"element-loading-background":"rgba(26,36,47, 0.2)"}},[e("div",{staticClass:"top-title"},[t._v("仪表盘列表")]),t._v(" "),e("div",{staticClass:"tools-wapper"},[e("el-button",{attrs:{type:"primary",plain:""},on:{click:t.goToHtml}},[t._v("新建")]),t._v(" "),e("el-button",{attrs:{type:"primary",plain:""},on:{click:t.getDashboardsList}},[t._v("刷新")])],1),t._v(" "),e("div",{staticClass:"table-wapper"},[e("v-basetable",{attrs:{tableHead:t.tableHead,tableData:t.tableData}})],1)])},staticRenderFns:[]};var r=e("VU/8")(o,s,!1,function(t){e("uVAp")},"data-v-43828034",null);a.default=r.exports},uVAp:function(t,a){}});