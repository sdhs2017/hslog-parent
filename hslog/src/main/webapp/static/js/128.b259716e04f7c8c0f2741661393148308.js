webpackJsonp([128],{"1lpq":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("mvHQ"),n=a.n(r),i=a("5Om0"),s=(a("ajDw"),a("8+FI")),l={name:"performanceAnalysis_bar.vue",props:{params:{type:Object},busName:{type:Object,default:function(){return{clickName:"",exportName:""}}},baseConProp:{type:Object,default:function(){return{title:""}}},setIntervalObj:{type:Object,default:function(){return{state:!1,interval:5e3}}}},data:function(){return{loading:!0,errState:!1,errText:"此报表为实时报表，与此仪表盘性质不符",barData:{baseConfig:{title:"",xAxisName:"应用\n名称",yAxisName:"时间/ms",rotate:"15",itemColor:[["rgba(68,47,148,0.5)","rgba(15,219,243,1)"]]},data:{dimensions:[],source:[]}},interval:""}},created:function(){this.barData.baseConfig.title=this.baseConProp.title},beforeDestroy:function(){s.default.$off(this.busName.clickName),clearInterval(this.interval)},watch:{params:{handler:function(t,e){"{}"!==n()(t)&&n()(t)!==n()(e)&&(this.setIntervalObj.state||(this.loading=!0),this.getEchartData(this.params))},immediate:!0,deep:!0},setIntervalObj:{handler:function(t,e){var a=this;this.setIntervalObj.state?this.setIntervalObj.interval?(this.errState=!1,clearInterval(this.interval),this.interval=setInterval(function(){a.getEchartData(a.params)},this.setIntervalObj.interval)):this.errState=!0:clearInterval(this.interval)},immediate:!0,deep:!0}},methods:{getEchartData:function(t){var e=this;this.$nextTick(function(){e.$axios.post(e.$baseUrl+"/flow/getRequestUrlAvgResponsetime_barAndPie.do",e.$qs.stringify(t)).then(function(t){e.loading=!1;var a=t.data;"true"===a.success?(e.errState=!1,e.barData.data=a.data[0]):(e.errState=!0,e.errText=a.message,clearInterval(e.interval))}).catch(function(t){e.loading=!1,console.log(t)})})}},components:{vEcharts:i.default}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],staticClass:"eb",attrs:{"element-loading-background":"rgba(48, 62, 78, 0.5)"}},[this.errState?e("div",{staticStyle:{width:"100%",height:"100%",display:"flex","justify-content":"center","align-items":"center",overflow:"hidden"}},[this._v(this._s(this.errText))]):e("v-echarts",{attrs:{echartType:"bar",echartData:this.barData,busName:this.busName}})],1)},staticRenderFns:[]};var u=a("VU/8")(l,o,!1,function(t){a("Bn1Z")},"data-v-fd24ed0c",null);e.default=u.exports},Bn1Z:function(t,e){},JsCW:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("mvHQ"),n=a.n(r),i=a("cUU5"),s=a("1lpq"),l=a("8+FI"),o=a("/sA3"),u={name:"performanceAnalysisUrl",data:function(){return{chartTitle:"功能URL平均响应时间统计",urlName:"",busName:"",param:{},intervalObj:{state:!1,interval:"5000"},defaultVal:{lastVal:"",starttime:"",endtime:"",dateBlock:!0,isIntervalBox:!0,intervalState:!1,intervalVal:"",intervalType:"",dateUnit:"hour",dateCount:"1",commonlyVal:"",changeState:!0}}},created:function(){this.defaultVal.endtime=this.$route.query.endtime,this.defaultVal.starttime=this.$route.query.starttime},watch:{urlName:function(){var t=this;""!==this.urlName&&l.default.$on(this.busName,function(e){var a=Object(o.n)(e);t.param=a[0],t.param.queryParam=n()({"domain_url.raw":t.urlName}),t.intervalObj=a[1]})}},beforeDestroy:function(){l.default.$off(this.busName)},beforeRouteEnter:function(t,e,a){a(function(e){e.$options.name="performanceAnalysisUrl"+t.query.url,e.busName="performanceAnalysisUrl"+t.query.url,e.param={intervalValue:"",intervalType:"",starttime:t.query.starttime,endtime:t.query.endtime,last:"",queryParam:n()({"domain_url.raw":t.query.url})};var a="/mobile/performanceAnalysisUrl_m"+t.query.url.replace(/\//g,"&-"),r={path:a,component:"mobile/flowManage/performanceAnalysisUrl_m.vue",title:""};sessionStorage.setItem(a,n()(r)),""!==e.urlName&&e.urlName===t.query.url||(e.urlName=t.query.url)})},components:{dateLayout:i.default,performanceAnalysisUrl_bar:s.default}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-bg"},[a("div",{staticClass:"title"},[t._v(t._s(this.urlName))]),t._v(" "),a("div",{staticClass:"timer"},[a("dateLayout",{staticClass:"from-wapper",attrs:{busName:t.busName,defaultVal:t.defaultVal}})],1),t._v(" "),a("div",{staticClass:"item-wapper"},[a("div",{staticClass:"item-title"},[t._v(" "+t._s(this.chartTitle))]),t._v(" "),a("div",{staticClass:"item-content"},[a("performanceAnalysisUrl_bar",{attrs:{params:t.param,setIntervalObj:t.intervalObj}})],1)])])},staticRenderFns:[]};var m=a("VU/8")(u,c,!1,function(t){a("mWfw")},"data-v-052d2c8f",null);e.default=m.exports},mWfw:function(t,e){}});