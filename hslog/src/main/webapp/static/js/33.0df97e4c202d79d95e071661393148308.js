webpackJsonp([33],{"6qrn":function(e,t){},MSbt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("mvHQ"),u=n.n(i),a=n("8+FI"),s={name:"reviseEquipment",data:function(){return{busName:"",routerUrl:"/equipment2",formData:{},equipmentName:"",equipmentId:""}},created:function(){},beforeDestroy:function(){a.default.$off(this.busName)},methods:{reviseEquipment:function(e){var t=this;e.id=this.equipmentId,this.$nextTick(function(){t.$axios.post(t.$baseUrl+"/equipment/upsert.do",t.$qs.stringify(e)).then(function(e){"true"==e.data.success?(layer.msg(e.data.message,{icon:1}),t.$router.push({path:"/equipment"})):layer.msg(e.data.message,{icon:5})}).catch(function(e){})})},getEquipmentData:function(){var e=this;layer.load(1),this.$nextTick(function(){e.$axios.post(e.$baseUrl+"/equipment/selectEquipment.do",e.$qs.stringify({id:e.equipmentId})).then(function(t){layer.closeAll(),e.formData=t.data[0]}).catch(function(e){layer.closeAll()})})}},watch:{$route:function(e,t){},equipmentId:function(e,t){var n=this;a.default.$on(this.busName,function(e){for(var t in e)null==e[t]&&(e[t]="");n.reviseEquipment(e)})}},beforeRouteEnter:function(e,t,n){n(function(t){t.$options.name="reviseEquipment"+e.query.id,t.equipmentName=e.query.name,t.busName="reviseEquipment"+e.query.id;var n={path:"reviseEquipment"+e.query.id,component:"equipment/reviseEquipment.vue",title:"资产修改"};sessionStorage.setItem("/reviseEquipment"+e.query.id,u()(n)),""!==t.equipmentId&&t.equipmentId===e.query.id||(t.equipmentId=e.query.id,t.getEquipmentData())})},components:{vEquipmentForm:n("tv75").default}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-bg"},[n("div",{staticClass:"top-title"},[e._v("修改 '"+e._s(e.equipmentName)+"' 资产")]),e._v(" "),n("div",{staticClass:"equipment-path"}),e._v(" "),n("div",{staticClass:"form-wapper"},[n("v-equipment-form",{attrs:{busName:e.busName,formData:e.formData,routerUrl:e.routerUrl}})],1)])},staticRenderFns:[]};var o=n("VU/8")(s,r,!1,function(e){n("6qrn")},"data-v-c556ecbc",null);t.default=o.exports}});