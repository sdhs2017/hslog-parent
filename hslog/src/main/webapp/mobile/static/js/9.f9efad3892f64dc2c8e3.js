webpackJsonp([9],{"5qWy":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t("mvHQ"),s=t.n(i),n=t("58QH"),r=t("jKHB"),l=t("8+FI"),c={name:"performanceAnalysis",data:function(){return{fullscreenLoading:!1,chartDataType:"all",chartTitle:"应用平均响应时间统计",allParams:{},oneParams:{},clickxAxis:"",busName:{exportName:"",clickName:"appAvgResTimeClick"},appAvgResTimeData:{baseConfig:{title:"",xAxisName:"应用\n名称",yAxisName:"时间/ms",rotate:"15",dispose:!0,itemColor:["rgba(68,47,148,0.5)","rgba(15,219,243,1)"]},xAxisArr:[],yAxisArr:[]},appAvgResTimeData2:{baseConfig:{title:"",hoverText:"百分比"},xAxisArr:[],yAxisArr:[]}}},created:function(){var e=this;l.default.$on("performanceAnalysis",function(a){if("all"===e.chartDataType){var t={starttime:a[0],endtime:a[1]};e.fullscreenLoading=!0,e.getAppAvgResTimeData(t)}else{var i={domain_url:e.clickxAxis,starttime:a[0],endtime:a[1]};e.fullscreenLoading=!0,e.getOneAppfuncResTimeData(i)}}),l.default.$on("appAvgResTimeClick",function(a){e.clickxAxis=a.name;var t={starttime:e.allParams.starttime,endtime:e.allParams.endtime,domain_url:a.name};console.log(a.name),e.getOneAppfuncResTimeData(t)})},methods:{getAppAvgResTimeData:function(e){var a=this,t=s()(e);this.chartDataType="all",this.allParams=e,this.chartTitle="应用平均响应时间统计",this.busName.clickName="appAvgResTimeClick",this.$nextTick(function(){a.$post("/flow/getDomaiUrlAvgResponsetime.do",{hsData:t}).then(function(e){a.fullscreenLoading=!1;var t=[],i=[];for(var s in e){var n=e[s];t.push(n.key),i.push(n.value.toFixed(2))}a.appAvgResTimeData.xAxisArr=t,a.appAvgResTimeData.yAxisArr=i}).catch(function(e){a.fullscreenLoading=!1})})},getOneAppfuncResTimeData:function(e){var a=this,t=s()(e);this.chartDataType="one",this.chartTitle=this.clickxAxis+" 功能URL平均响应时间统计",this.busName.clickName="",this.$nextTick(function(){a.$post("/flow/getRequestUrlAvgResponsetime.do",{hsData:t}).then(function(e){a.fullscreenLoading=!1;var t=[],i=[];for(var s in e){var n=e[s];t.push(n.key),i.push(n.value.toFixed(2))}a.appAvgResTimeData.xAxisArr=t,a.appAvgResTimeData.yAxisArr=i}).catch(function(e){a.fullscreenLoading=!1})})},goBack:function(){this.chartTitle="应用平均响应时间统计",this.fullscreenLoading=!0,this.getAppAvgResTimeData(this.allParams)}},components:{vBasedate:n.default,vEcharts:r.default}},o={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"content-bg",attrs:{"element-loading-text":"获取中","element-loading-background":"rgba(0, 0, 0, 0.6)"}},[t("div",{staticClass:"top-title"},[e._v("应用性能分析")]),e._v(" "),t("div",{staticStyle:{padding:"0 5px"}},[t("v-basedate",{staticClass:"from-wapper",attrs:{busName:"performanceAnalysis"}})],1),e._v(" "),t("div",{staticClass:"item-wapper"},[t("div",{staticClass:"item-title"},[e._v(e._s(this.chartTitle)),"all"!==this.chartDataType?t("span",{staticClass:"goBack",on:{click:e.goBack}},[e._v("返回")]):e._e()]),e._v(" "),t("div",{staticClass:"item-content"},[t("v-echarts",{attrs:{echartType:"bar",echartData:this.appAvgResTimeData,busName:this.busName}})],1)])])},staticRenderFns:[]};var m=t("VU/8")(c,o,!1,function(e){t("fkjW")},"data-v-65d0c741",null);a.default=m.exports},fkjW:function(e,a){}});
//# sourceMappingURL=9.f9efad3892f64dc2c8e3.js.map