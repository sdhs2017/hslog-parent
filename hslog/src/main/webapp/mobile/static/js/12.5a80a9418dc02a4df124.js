webpackJsonp([12],{YNOb:function(e,a){},Z5u7:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("jKHB"),s=t("/sA3"),i={name:"allEquipmentCharts",data:function(){return{logType:"",logTypeArr:[{value:"",label:"全部"},{value:"syslog",label:"syslog"},{value:"winlog",label:"winlog"},{value:"log4j",label:"log4j"},{value:"mysql",label:"mysql"}],timeVal:"7",timeArr:[{value:"7",label:"最近7天"},{value:"30",label:"最近30天"},{value:"90",label:"最近90天"},{value:"",label:"全部"}],logLevelData:{baseConfig:{title:"",xAxisName:"日志\n级别",yAxisName:"数量",rotate:"20",itemColor:["rgba(68,47,148,0.5)","rgba(15,219,243,1)"]},xAxisArr:[],yAxisArr:[]},logLevelData2:{baseConfig:{title:"",hoverText:"百分比"},xAxisArr:[],yAxisArr:[]},searchParams:{type:"",starttime:"",endtime:"",index:"estest",param:"operation_level"}}},created:function(){var e=Object(s.a)("yyyy-mm-dd",new Date),a=Object(s.a)("yyyy-mm-dd",new Date((new Date).getTime()-24*this.timeVal*60*60*1e3));this.searchParams.starttime=a,this.searchParams.endtime=e,this.searchParams.type=this.logType,this.getAllEchartsData(this.searchParams)},methods:{getAllEchartsData:function(e){var a=this;this.$nextTick(function(){a.$post("/log/getCountGroupByParam.do",e).then(function(e){var t=e[0],l=[],s=[],i=[];for(var r in t){var n={};l.push(r),s.push(t[r]),n.value=t[r],n.name=r,i.push(n)}a.logLevelData.xAxisArr=l,a.logLevelData.yAxisArr=s,a.logLevelData2.yAxisArr=i}).catch(function(e){})})},logTypeChange:function(){this.searchParams.type=this.logType,this.getAllEchartsData(this.searchParams)},timeChange:function(){var e="",a="";""!==this.timeVal&&(e=Object(s.a)("yyyy-mm-dd",new Date),a=Object(s.a)("yyyy-mm-dd",new Date((new Date).getTime()-24*this.timeVal*60*60*1e3))),this.searchParams.starttime=a,this.searchParams.endtime=e,this.getAllEchartsData(this.searchParams)}},components:{vEcharts:l.default}},r={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"content-bg"},[t("div",{staticClass:"top-title"},[e._v("日志汇总报表")]),e._v(" "),t("div",{staticClass:"from-wapper"},[t("span",{staticClass:"select-lable"},[e._v("日志类型")]),e._v(" "),t("el-select",{staticClass:"select-list",attrs:{placeholder:"请选择",size:"mini"},on:{change:e.logTypeChange},model:{value:e.logType,callback:function(a){e.logType=a},expression:"logType"}},e._l(e.logTypeArr,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),t("span",{staticClass:"select-lable"},[e._v("时间范围")]),e._v(" "),t("el-select",{staticClass:"select-list",attrs:{placeholder:"请选择",size:"mini"},on:{change:e.timeChange},model:{value:e.timeVal,callback:function(a){e.timeVal=a},expression:"timeVal"}},e._l(e.timeArr,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("div",{staticClass:"item-wapper"},[t("div",{staticClass:"item-title"},[e._v("日志级别数量统计")]),e._v(" "),t("div",{staticClass:"item-content"},[t("v-echarts",{attrs:{echartType:"bar",echartData:this.logLevelData}})],1),e._v(" "),t("div",{staticClass:"item-content"},[t("v-echarts",{attrs:{echartType:"pie",echartData:this.logLevelData2}})],1)])])},staticRenderFns:[]};var n=t("VU/8")(i,r,!1,function(e){t("YNOb")},"data-v-574d4d78",null);a.default=n.exports}});
//# sourceMappingURL=12.5a80a9418dc02a4df124.js.map